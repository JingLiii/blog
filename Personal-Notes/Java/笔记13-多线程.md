# Java笔记13 - 多线程

## 多线程基础

* 现代操作系统都可以同时执行多任务. 多任务就是同时运行多个任务
* CPU执行代码都是一条条执行. 操作系统可以让CPU对多个任务轮流执行

### 进程

* 一个任务是一个*进程*, 例如: 浏览器, 视频播放器
* 进程内部可以同时执行多个子任务: *线程*
* 一个进程可以包含一个或多个线程, 但至少会有一个线程
* 操作系统调用的最小任务单位是线程
* 同一个应用程序可以有多个进程, 也可以有多个线程
* 各种模式:
  * 多进程模式: 每个进程只有一个线程
  * 多线程模式: 一个进程有多个线程
  * 多进程 + 多线程模式

### 进程VS线程

* 多任务可以由多线程实现, 也可以单进程内的多线程, 也可以混合模式
* 多线程相比, 多进程缺点:
  * 进程比线程开销大,
  * 进程间的通信比线程慢, 因为线程间的通信就是读写同一个变量
* 多进程优点:
  * 多进程的稳定性高, 一个进程的崩溃不会影响其他进程
  * 多线程中, 有一个线程崩溃导致整个进程崩溃

### 多线程

* Java语言内置多线程支持
  * 一个Java程序就是一个JVM进程
  * JVM进程用一个主线程启用`main()`方法
  * `main()`方法内部, 可以启用多个线程
  * JVM内部负责垃圾回收其他线程

* Java多线程编程特点:
  * 多线程模型是JAVA程序最基本的并发模型
  * 后续读写网络, 数据库, Web开发等都需要依赖Java多线程模型
